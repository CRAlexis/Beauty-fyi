<Page shownModally="onShownModally" loaded="onPageLoaded" xmlns:Card="@nstudio/nativescript-cardview" xmlns:lv="nativescript-ui-listview" backgroundColor="rgb(247,247,247)">
    <ScrollView height="100%">
        <GridLayout rows="auto, auto, auto, auto, auto, auto" xmlns:topBar="dashboard/includes/topBar">
            <topBar:menu-header row="0" header="Name of client" tap="goBack"/>

            <GridLayout row="1" rows="auto," columns="auto, auto" class="" style="margin-bottom: 10; padding-bottom: 10;" backgroundColor="white">
                <Card:CardView row="0" col="0" class="cardStyle" elevation="20" radius="160" margin="20" marginLeft="20" style="height: 120; width: 120;">
                    <Image tap="{{ openClientGallery }}" src="~/images/temp.png" class="" horizontalAlignment="center" style="height: 120; width: 120; border-radius: 50" stretch="fill" />
                </Card:CardView>
                <StackLayout row="0" col="1" paddingTop="30">
                    <Label class="h5" text="Next appointment" textWrap="true" />
                    <Label class="h4 font-bold" text="17th October 2020" textWrap="true" />
                    
                    <Label class="h5" text="Last appointment" textWrap="true" />
                    <Label class="h4 font-bold" text="10th October 2020" textWrap="true" />
                    
                </StackLayout>
            </GridLayout>
    
            <SegmentedBar row="2" selectedIndex="0" selectedIndexChanged="{{ selectedIndexChangeInformation }}" backgroundColor="white" selectedBackgroundColor="#9900ff">>
                <SegmentedBar.items>
                    <SegmentedBarItem title="Hair Type" />
                    <SegmentedBarItem title="Hair Behaviour" />         
                </SegmentedBar.items>
            </SegmentedBar>

            <StackLayout id="clientInfoSection" row="3"  paddingBottom="20" marginBottom="10" backgroundColor="white" xmlns:includes="dashboard/includes/clientTab">
                <includes:hair-type-container/>
                <includes:hair-care-container/>
            </StackLayout>
    
            
            <SegmentedBar row="4" selectedIndex="0" selectedIndexChanged="{{ selectedIndexChangeAppointments }}" backgroundColor="white" selectedBackgroundColor="#9900ff">>
                <SegmentedBar.items>
                    <SegmentedBarItem title="Previous appointments" />
                    <SegmentedBarItem title="Future appointments" />   
                </SegmentedBar.items>
            </SegmentedBar>
            <StackLayout row="5" paddingLeft="20" paddingTop="20" backgroundColor="white">
                <StackLayout xmlns:lv="nativescript-ui-listview" visibility="{{ pastAppointmentsContainerVisbility ? 'visible' : 'collapsed' }}">
                    <lv:RadListView id="pastClientAppointmentsFromProView" class="list-group" style="background-color: transparent" loadOnDemandMode="Manual" loadMoreDataRequested="{{onLoadMoreItemsRequested}}"> 
                        <lv:RadListView.listViewLayout>
                            <lv:ListViewLinearLayout  spanCount="2" />
                        </lv:RadListView.listViewLayout>
                        <lv:RadListView.itemTemplate >    
                            <StackLayout orientation="horizontal">
                                <Label text="{{ serviceDate }}" class="h4" textWrap="true" />
                                <Label text="-" textWrap="true" />  
                                <Label text="{{ serviceName }}" class="font-bold h4" textWrap="true" />
                            </StackLayout>
                        </lv:RadListView.itemTemplate>
                    </lv:RadListView>
                </StackLayout>

                <StackLayout xmlns:lv="nativescript-ui-listview" visibility="{{ pastAppointmentsContainerVisbility ? 'collapsed' : 'visible' }}">
                    <lv:RadListView id="futureClientAppointmentsFromProView" class="list-group" style="background-color: transparent" loadOnDemandMode="Manual" loadMoreDataRequested="{{onLoadMoreItemsRequested}}"> 
                        <lv:RadListView.listViewLayout>
                            <lv:ListViewLinearLayout  spanCount="2" />
                        </lv:RadListView.listViewLayout>
                        <lv:RadListView.itemTemplate >    
                            <StackLayout orientation="horizontal">
                                <Label text="{{ serviceDate }}" class="h4" textWrap="true" />
                                <Label text="-" textWrap="true" />  
                                <Label text="{{ serviceName }}" class="font-bold h4" textWrap="true" />
                            </StackLayout>
                        </lv:RadListView.itemTemplate>
                    </lv:RadListView>
                </StackLayout>
                <Button tap="{{ bookClient }}" col="2" class="btn btn-primary" width="40%" text="Book"></Button>
            </StackLayout>
        </GridLayout>
    </ScrollView>
</Page>